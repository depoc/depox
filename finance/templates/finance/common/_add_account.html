{% load static %}
{% load filters %}

<div
    id="addAccount"
    class="
        hidden
        fixed
        inset-0 z-50 
        justify-center items-center
        bg-background/20 dark:bg-black/40
        backdrop-blur-md">
  
    <div 
      class=
        "ring-1
        ring-primary/10
        dark:ring-white/15
        bg-white dark:bg-secondary
        shadow-xl
        p-4
        lg:w-4/12 sm:h-3/5
        md:w-7/12
        w-11/12 h-[75%]
        rounded-2xl
        relative"> 

        <form action="{% url "finance:caixa" %}" method="POST" class="">
            {% csrf_token %}
            <div
                class="px-1 my-6 text-4xl text-start tracking-normal sm:tracking-widest text-black/10 dark:text-white/10">
                <kbd>nova conta</kbd>
            </div>

            <div
                class="px-1 text-sm text-start text-black/70 dark:text-white/70">
                <p>saldo inicial</p>
            </div>

            <div class="relative justify-center items-center px-1 pt-0 pb-2">
                <label class="flex text-black/40 dark:text-white/40 text-3xl">
                    R$
                    <input
                        class="valor px-1 w-fit text-3xl outline-none bg-transparent text-black/40 dark:text-white/40 placeholder:text-black/40 dark:placeholder:text-white/40"
                        name="saldo"
                        id="saldo"
                        inputmode="decimal"
                        placeholder="0,00">
                    </input>
                </label>
            </div>      

            <div class="flow-root rounded-lg bg-background/50 dark:bg-secondary ring-1 ring-black/10 dark:ring-white/20 py-2 mt-2">
                <dl class="-my-3 divide-y divide-black/5 dark:divide-white/5 text-sm">
              
                  <div class="grid grid-cols-1 gap-1 p-3">
                    <dt class="text-black/70 dark:text-white/70">nome</dt>
                    <input
                        required
                        name="name"
                        id="name"
                        value=""
                        placeholder="..."
                        class="text-black/40 dark:text-white/40 placeholder:text-black/40 placeholder:dark:text-white/40 bg-transparent outline-none sm:col-span-2 text-start">
                    </input>
                  </div>
              
                  <div class="grid grid-cols-1 gap-1 p-3">
                    <dt class="text-black/70 dark:text-white/70">agÃªncia</dt>
                    <input
                        name="agencia"
                        id="agencia"
                        value=""
                        placeholder="..."
                        class="text-black/40 dark:text-white/40 placeholder:text-black/40 placeholder:dark:text-white/40 bg-transparent outline-none sm:col-span-2 text-start">
                    </input>
                  </div>

                  <div class="grid grid-cols-1 gap-1 p-3">
                    <dt class="text-black/70 dark:text-white/70">conta</dt>
                    <input
                        name="conta"
                        id="conta"
                        value=""
                        placeholder="..."
                        class="text-black/40 dark:text-white/40 placeholder:text-black/40 placeholder:dark:text-white/40 bg-transparent outline-none sm:col-span-2 text-start">
                    </input>
                  </div>                  
                </dl>
            </div>

            <!--bottom-right submit button-->  
            <div class="absolute bottom-3 right-1 text-sm leading-5">
                <p
                    class="
                        px-2
                        group
                        flex 
                        w-fit
                        items-center justify-center 
                        rounded-full">
                    <button
                        type="submit" 
                        name="add-account"
                        class="text-sm font-semibold text-black items-center dark:text-white">
                        <svg class="w-6 h-6 text-black/75 dark:text-white/75" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 11.917 9.724 16.5 19 7.5"/>
                        </svg>                                                            
                    </button>
                </p>
            </div>                   
        </form>

        <!--bottom-left closeAddAccount button-->  
        <div class="absolute bottom-3 left-3 text-sm leading-5">
            <p
                class="
                    group
                    flex 
                    h-fit w-fit
                    items-center justify-center 
                    aspect-square rounded-md">
                <a id="closeAddAccount" href="javascript:history.back()">
                    <svg class="w-6 h-6 text-black/70 dark:text-white/70" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"/>
                      </svg>                                                   
                </a>
            </p>
        </div>         
  
    </div>
</div>

<script src="{% static "js/finance/addAccount.js" %}"></script>
<script src="https://unpkg.com/imask"></script>
<script>
    const valorInputs = document.querySelectorAll('.valor');
    valorInputs.forEach(input => {
        IMask(input, {
            mask: Number,
            scale: 2,
            thousandsSeparator: '.',
            radix: ',',
            padFractionalZeros: true,
        });
    });
</script>